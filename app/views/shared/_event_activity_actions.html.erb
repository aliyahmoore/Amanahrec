<div class="registration-actions text-center mt-3">
  <% if item.end_date.present? && Time.current > item.end_date %>
    <p class="registration-info text-center">
      <span class="btn btn-outline-danger" style="pointer-events: none;">
        Registration Closed
      </span>
    </p>
  <% elsif (item.early_access_for_members? && current_user&.membership_active?) || item.general_registration_open? %>
    <%= button_to 'Register Now', activity_payments_path(item, paymentable_type: item.class.name, paymentable_id: item.id), method: :post, class: 'activity-payments btn btn-primary mb-3', data: { turbo: false } %>
  <% else %>
    <p class="registration-info text-center">
      <span class="btn btn-outline-warning" style="pointer-events: none;">
        Registration Not Yet Open
      </span>
    </p>
  <% end %>

  <% if current_user&.role_id == 1 %> <!-- Admin actions -->
    <div class="d-flex justify-content-center gap-2 mt-2">
      <%= link_to 'Edit', polymorphic_path([:edit, item]), class: "btn btn-warning md-2 mb-3" %>
      <%= button_to 'Delete', item, method: :delete, data: { confirm: 'Are you sure you want to delete this?' }, class: "btn btn-danger md-2 mb-3" %>
    </div>
  <% end %>
</div>