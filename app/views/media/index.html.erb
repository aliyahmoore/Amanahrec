<%= stylesheet_link_tag 'media', media: 'all' %>

<h1 class="heading text-center my-5" style="color: #403f2b;">Amanah Rec Latest News...</h1>

<div class="image-container text-center mb-5">
  <img src="https://voyageminnesota.com/wp-content/uploads/2024/08/c-1722429958481-nasrieen_habib_dsc09767.jpg" 
       alt="Latest News Image" 
       class="news-image">
</div>




<div class="square-container mt-5">
  <div class="square p-4" style="background-color: #DACCB1;">
    <% if @media.present? %>
      <ul class="list-unstyled">
        <% @media.each do |medium| %>
          <li class="media-item mb-5 p-4 border rounded shadow" id="media-<%= medium.id %>" style="background-color: #FFF;">
            <div class="d-flex justify-content-between align-items-center mb-3">
              <h3><%= medium.name %></h3>
              <div>
                <%= link_to 'Edit', '#', 
                            class: 'btn btn-sm text-white edit-button text-decoration-none', 
                            style: 'background-color: #e86c00; border-color: #e86c00;', 
                            data: { medium_id: medium.id } %>
              </div>
            </div>
            <p><strong>News Organization:</strong> <%= medium.organization_name %></p>
            <p><strong>Published Date:</strong> <%= medium.published_date.strftime("%B %d, %Y") %></p>

            <div class="mb-3">
              <% if medium.link.present? %>
                <iframe 
                  src="<%= medium.link %>" 
                  title="<%= medium.name %> Article Snippet" 
                  width="100%" 
                  height="300" 
                  frameborder="0" 
                  style="border: 1px solid #ccc; border-radius: 8px; margin-top: 10px;">
                </iframe>
              <% else %>
                <p class="text-muted">No preview available.</p>
              <% end %>
              <a href="<%= medium.link %>" target="_blank" 
                 class="media-link text-decoration-underline fw-bold" 
                 style="color: #403f2b;">View Link</a>
            </div>

            <div class="text-center">
              <%= button_to 'Delete', medium_path(medium), method: :delete, 
                            class: 'btn btn-danger btn-sm text-white', 
                            data: { confirm: 'Are you sure you want to delete this media?' } %>
            </div>
            
            <div class="edit-form-container mt-4" id="edit-form-<%= medium.id %>" style="display: none;">
              <%= render 'media/form', medium: medium %>
            </div>
          </li>
        <% end %>
      </ul>
    <% else %>
      <p class="text-center text-muted fs-5">No Updates Available At This Time.</p>
    <% end %>
  </div>
</div>
  
</div>
