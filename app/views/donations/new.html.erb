<% content_for :javascript do %>
    <script type="module">
    import "donation";
    </script>
    <%end%>
  
  <script src="https://js.stripe.com/v3/"></script>
  
  <div>
  <h1>Support Our Blog!</h1>
  
  <%= form_with url: donations_path, method: :post, local: true, id: "payment-form" do |form| %>
    <%= form.hidden_field :csrf_token, value: form_authenticity_token %> <!-- Ensure the CSRF token is included -->
    <div>
      <%= form.label :amount, "Donation Amount:" %>
      <%= form.number_field :amount, min: 1, required: true %>
    </div>
    <div>
      <%= form.label :card, "Credit or Debit Card:" %>
      <div id="card-element" style="height: 40px;">
        <!-- Stripe will place the card input here -->
      </div>
    </div>
    <div>
      <%= form.submit "Donate" %>
    </div>
  <% end %>
</div>