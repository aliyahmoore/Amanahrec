<% content_for :title, "Amanahrec Home" %>
<% content_for :javascript do %>
  <script type="module">
    import "testimonial_slider";
  </script>
<% end %>
<h1>Welcome to the Amanahrec Homepage!</h1>
<!-- Hero Section -->
<div class="hero-section">
  <!-- Hero Image -->
  <div class="hero-image">
    <!-- insert hero image -->
    <!-- insert Logo on top of the hero image -->
    <div class="hero-logo">
    </div>
  </div>
</div>
<div class="card-section">
  <!-- Card 1: Activities -->
  <div class="card">
    <!-- place activties image tag -->
    <h3>Activities</h3>
    <p>Find fun adventures and ways to get involved!</p>
  </div>
  <!-- Card 2: Events -->
  <div class="card">
    <!-- place events image tag -->
    <h3>Events</h3>
    <p>Check out upcoming gatherings and happenings.</p>
  </div>
  <!-- Card 3: Latest News -->
  <div class="card">
    <!-- place latest news image tag -->
    <h3>Latest News</h3>
    <p>Stay up-to-date with current announcements.</p>
  </div>
</div>
<div class="upcoming-events">
  <h2>Upcoming Events</h2>
  <ul>
    <li><strong>Saturday Hike</strong> – Saturday, January 1, 2025</li>
    <li><strong>Snow Tubing</strong> – Sunday, January 8, 2025</li>
    <li><strong>Kayaking</strong> – Friday, January 12, 2025</li>
  </ul>
</div>

<!-- Testimonials Section -->
<!-- Testimonials Section -->
<div>
  <div id="testimonialCarousel" class="carousel carousel-dark slide col-md-6 mx-auto" data-bs-ride="carousel">
    <!-- Carousel Indicators -->
    <div class="carousel-indicators">
      <% @testimonials.each_with_index do |testimonial, index| %>
        <button type="button" data-bs-target="#testimonialCarousel" data-bs-slide-to="<%= index %>" class="<%= index == 0 ? 'active' : '' %>" aria-label="Slide <%= index + 1 %>"></button>
      <% end %>
    </div>

    <!-- Carousel Items -->
    <div class="carousel-inner">
      <% @testimonials.each_with_index do |testimonial, index| %>
        <div class="carousel-item <%= index == 0 ? 'active' : '' %>" data-bs-interval="<%= index == 0 ? '10000' : '2000' %>">
          <div class="d-block w-100 text-center p-5 testimonial-content">
            <p class="lead"><em><%= testimonial.text %></em></p>
            <h6><%= testimonial.user.first_name %> <%= testimonial.user.last_name %></h6>
          </div>
        </div>
      <% end %>
    </div>

    <!-- Carousel Controls -->
    <button class="carousel-control-prev" type="button" data-bs-target="#testimonialCarousel" data-bs-slide="prev">
      <span class="carousel-control-prev-icon" aria-hidden="true"></span>
      <span class="visually-hidden">Previous</span>
    </button>
    <button class="carousel-control-next" type="button" data-bs-target="#testimonialCarousel" data-bs-slide="next">
      <span class="carousel-control-next-icon" aria-hidden="true"></span>
      <span class="visually-hidden">Next</span>
    </button>
  </div>
  <div class="text-center">
    <% if user_signed_in? && current_user.role.id == 1 %>
      <%= link_to 'View Testimonials', testimonials_path, class: 'btn btn-secondary mb-3' %>
    <% else %>
      <%= link_to 'Submit a Testimonial', new_testimonial_path, class: 'btn btn-secondary mb-3' %>
    <% end %>
  </div>
</div>


</div>